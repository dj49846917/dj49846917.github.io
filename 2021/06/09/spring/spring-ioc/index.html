<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>spring-ioc | 杜江的博客</title><meta name="description" content="Spring是分层的JavaSE&#x2F;EE应用full-stack轻量级开源框架"><meta name="keywords" content="spring"><meta name="author" content="杜江"><meta name="copyright" content="杜江"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yoursite.com/2021/06/09/spring/spring-ioc/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="spring-ioc"><meta property="og:url" content="http://yoursite.com/2021/06/09/spring/spring-ioc/"><meta property="og:site_name" content="杜江的博客"><meta property="og:description" content="Spring是分层的JavaSE&#x2F;EE应用full-stack轻量级开源框架"><meta property="og:image" content="http://yoursite.com/images/spring/logo.jpg"><meta property="article:published_time" content="2021-06-09T08:52:11.000Z"><meta property="article:modified_time" content="2024-04-18T03:43:57.898Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="spring2-aop" href="http://yoursite.com/2021/06/18/spring/spring2-aop/"><link rel="next" title="lombok" href="http://yoursite.com/2021/06/08/lombok/lombok/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/images/hexo/avater.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">46</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">38</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">48</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring简介"><span class="toc-number">1.</span> <span class="toc-text">Spring简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring是什么"><span class="toc-number">1.1.</span> <span class="toc-text">Spring是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring发展历程"><span class="toc-number">1.2.</span> <span class="toc-text">Spring发展历程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring的优势"><span class="toc-number">1.3.</span> <span class="toc-text">Spring的优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring的体系结构"><span class="toc-number">1.4.</span> <span class="toc-text">Spring的体系结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring快速入门"><span class="toc-number">2.</span> <span class="toc-text">Spring快速入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring程序开发步骤"><span class="toc-number">2.1.</span> <span class="toc-text">Spring程序开发步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#导入Spring开发的基本包坐标"><span class="toc-number">2.1.1.</span> <span class="toc-text">导入Spring开发的基本包坐标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编写Dao接口和实现类"><span class="toc-number">2.1.2.</span> <span class="toc-text">编写Dao接口和实现类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建Spring核心配置文件"><span class="toc-number">2.1.3.</span> <span class="toc-text">创建Spring核心配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在Spring配置文件中配置UserDaoImpl"><span class="toc-number">2.1.4.</span> <span class="toc-text">在Spring配置文件中配置UserDaoImpl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用Spring的API获得Bean实例"><span class="toc-number">2.1.5.</span> <span class="toc-text">使用Spring的API获得Bean实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring配置文件"><span class="toc-number">3.</span> <span class="toc-text">Spring配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean标签基本配置"><span class="toc-number">3.1.</span> <span class="toc-text">Bean标签基本配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean标签范围配置"><span class="toc-number">3.2.</span> <span class="toc-text">Bean标签范围配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean生命周期配置"><span class="toc-number">3.3.</span> <span class="toc-text">Bean生命周期配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean实例化三种方式"><span class="toc-number">3.4.</span> <span class="toc-text">Bean实例化三种方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean的依赖注入概念"><span class="toc-number">3.5.</span> <span class="toc-text">Bean的依赖注入概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean的依赖注入方式"><span class="toc-number">3.6.</span> <span class="toc-text">Bean的依赖注入方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bean的依赖注入的数据类型"><span class="toc-number">3.7.</span> <span class="toc-text">Bean的依赖注入的数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#普通数据类型"><span class="toc-number">3.7.1.</span> <span class="toc-text">普通数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#引用数据类型"><span class="toc-number">3.7.2.</span> <span class="toc-text">引用数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#集合数据类型"><span class="toc-number">3.7.3.</span> <span class="toc-text">集合数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#List-lt-String-gt-的注入-list普通数据"><span class="toc-number">3.7.3.1.</span> <span class="toc-text">List&lt;String&gt;的注入(list普通数据)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List-lt-Student-gt-的注入-list嵌套map"><span class="toc-number">3.7.3.2.</span> <span class="toc-text">List&lt;Student&gt;的注入(list嵌套map)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Map-lt-String-String-gt-的注入"><span class="toc-number">3.7.3.3.</span> <span class="toc-text">Map&lt;String, String&gt;的注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Map-lt-String-Student-gt-的注入"><span class="toc-number">3.7.3.4.</span> <span class="toc-text">Map&lt;String,Student&gt;的注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Set-lt-String-gt-的注入"><span class="toc-number">3.7.3.5.</span> <span class="toc-text">Set&lt;String&gt;的注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Properties注入"><span class="toc-number">3.7.3.6.</span> <span class="toc-text">Properties注入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#引入其他配置文件-分模块开发"><span class="toc-number">3.8.</span> <span class="toc-text">引入其他配置文件(分模块开发)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">3.9.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring配置数据源"><span class="toc-number">4.</span> <span class="toc-text">Spring配置数据源</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#数据源（连接池）的作用"><span class="toc-number">4.1.</span> <span class="toc-text">数据源（连接池）的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据源的开发步骤"><span class="toc-number">4.2.</span> <span class="toc-text">数据源的开发步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#c3p0的开发步骤"><span class="toc-number">4.2.1.</span> <span class="toc-text">c3p0的开发步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#导入数据源的坐标和数据库驱动坐标"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">导入数据源的坐标和数据库驱动坐标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#完整代码"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">完整代码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#druid的开发步骤"><span class="toc-number">4.2.2.</span> <span class="toc-text">druid的开发步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#导入数据源的坐标和数据库驱动坐标-1"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">导入数据源的坐标和数据库驱动坐标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#完整代码-1"><span class="toc-number">4.2.2.2.</span> <span class="toc-text">完整代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring配置数据源-1"><span class="toc-number">4.3.</span> <span class="toc-text">Spring配置数据源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#C3p0的配置参数抽取到resources的jdbc-properties"><span class="toc-number">4.3.1.</span> <span class="toc-text">C3p0的配置参数抽取到resources的jdbc.properties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#druid的配置参数抽取到resources的jdbc-properties"><span class="toc-number">4.3.2.</span> <span class="toc-text">druid的配置参数抽取到resources的jdbc.properties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#将C3p0的配置参数配置到applicationContext-xml中"><span class="toc-number">4.3.3.</span> <span class="toc-text">将C3p0的配置参数配置到applicationContext.xml中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#将druid的配置参数配置到applicationContext-xml中"><span class="toc-number">4.3.4.</span> <span class="toc-text">将druid的配置参数配置到applicationContext.xml中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jdbc-properties与xml分开"><span class="toc-number">4.3.5.</span> <span class="toc-text">jdbc.properties与xml分开</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring注解开发"><span class="toc-number">5.</span> <span class="toc-text">Spring注解开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring原始注解"><span class="toc-number">5.1.</span> <span class="toc-text">Spring原始注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#不含注解的代码编写"><span class="toc-number">5.1.1.</span> <span class="toc-text">不含注解的代码编写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注解代码编写"><span class="toc-number">5.1.2.</span> <span class="toc-text">注解代码编写</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Component"><span class="toc-number">5.1.2.1.</span> <span class="toc-text">@Component</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Service"><span class="toc-number">5.1.2.2.</span> <span class="toc-text">@Service</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Repository"><span class="toc-number">5.1.2.3.</span> <span class="toc-text">@Repository</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Autowired和-Qualifier"><span class="toc-number">5.1.2.4.</span> <span class="toc-text">@Autowired和@Qualifier</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource"><span class="toc-number">5.1.2.5.</span> <span class="toc-text">@Resource</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Value"><span class="toc-number">5.1.2.6.</span> <span class="toc-text">@Value</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring新注解"><span class="toc-number">5.2.</span> <span class="toc-text">Spring新注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#不含新注解的代码编写"><span class="toc-number">5.2.1.</span> <span class="toc-text">不含新注解的代码编写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用新注解代码编写"><span class="toc-number">5.2.2.</span> <span class="toc-text">使用新注解代码编写</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Configuration"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">@Configuration</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ComponentScan"><span class="toc-number">5.2.2.2.</span> <span class="toc-text">@ComponentScan</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PropertySource"><span class="toc-number">5.2.2.3.</span> <span class="toc-text">@PropertySource</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bean"><span class="toc-number">5.2.2.4.</span> <span class="toc-text">@Bean</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Import"><span class="toc-number">5.2.2.5.</span> <span class="toc-text">@Import</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><header class="post-bg" id="page-header" style="background-image: url(/images/spring/logo.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">杜江的博客</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">spring-ioc</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-06-09 16:52:11"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2021-06-09</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2024-04-18 11:43:57"><i class="fas fa-history fa-fw"></i> 更新于 2024-04-18</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E6%95%99%E7%A8%8B/">教程</a><i class="fas fa-angle-right post-meta__separator"></i><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E6%95%99%E7%A8%8B/spring/">spring</a><i class="fas fa-angle-right post-meta__separator"></i><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E6%95%99%E7%A8%8B/spring/ioc/">ioc</a><i class="fas fa-angle-right post-meta__separator"></i><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E6%95%99%E7%A8%8B/spring/ioc/java/">java</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="Spring简介"><a href="#Spring简介" class="headerlink" title="Spring简介"></a>Spring简介</h1><h2 id="Spring是什么"><a href="#Spring是什么" class="headerlink" title="Spring是什么"></a>Spring是什么</h2><ul>
<li>Spring是分层的 Java SE/EE应用 full-stack 轻量级开源框架，以 <strong>IoC</strong>（Inverse Of Control：反转控制）和 <strong>AOP</strong>（Aspect Oriented Programming：面向切面编程）为内核。</li>
<li>提供了<strong>展现层 SpringMVC</strong> 和<strong>持久层 Spring JDBCTemplate</strong> 以及<strong>业务层事务管理</strong>等众多的企业级应用技术，还能整合开源世界众多著名的第三方框架和类库，逐渐成为使用最多的Java EE 企业应用开源框架。</li>
</ul>
<h2 id="Spring发展历程"><a href="#Spring发展历程" class="headerlink" title="Spring发展历程"></a>Spring发展历程</h2><h2 id="Spring的优势"><a href="#Spring的优势" class="headerlink" title="Spring的优势"></a>Spring的优势</h2><ol>
<li><strong>方便解耦，简化开发</strong><ul>
<li>通过 Spring 提供的 IoC容器，可以将对象间的依赖关系交由 Spring 进行控制，避免硬编码所造成的过度耦合。<br>用户也不必再为单例模式类、属性文件解析等这些很底层的需求编写代码，可以更专注于上层的应用。</li>
</ul>
</li>
<li><strong>AOP编程的支持</strong> <ul>
<li>通过 Spring的 AOP 功能，方便进行面向切面编程，许多不容易用传统 OOP 实现的功能可以通过 AOP 轻松实现。</li>
</ul>
</li>
<li><strong>声明式事务的支持</strong><ul>
<li>可以将我们从单调烦闷的事务管理代码中解脱出来，通过声明式方式灵活的进行事务管理，提高开发效率和质量。</li>
</ul>
</li>
<li><strong>方便程序的测试</strong><ul>
<li>可以用非容器依赖的编程方式进行几乎所有的测试工作，测试不再是昂贵的操作，而是随手可做的事情。</li>
</ul>
</li>
<li><strong>方便集成各种优秀框架</strong><ul>
<li>方便集成各种优秀框架</li>
</ul>
</li>
<li><strong>降低 JavaEE API 的使用难度</strong><ul>
<li>Spring对 JavaEE API（如 JDBC、JavaMail、远程调用等）进行了薄薄的封装层，使这些 API 的使用难度大为降低。</li>
</ul>
</li>
<li><strong>Java源码是经典学习范例</strong><ul>
<li>Spring的源代码设计精妙、结构清晰、匠心独用，处处体现着大师对Java 设计模式灵活运用以及对 Java技术的高深造诣。它的源代码无意是 Java 技术的最佳实践的范例。</li>
</ul>
</li>
</ol>
<h2 id="Spring的体系结构"><a href="#Spring的体系结构" class="headerlink" title="Spring的体系结构"></a>Spring的体系结构</h2><ul>
<li><img src= "/img/loading.gif" data-src="/images/spring/system.jpg" alt="体系结构"></li>
</ul>
<h1 id="Spring快速入门"><a href="#Spring快速入门" class="headerlink" title="Spring快速入门"></a>Spring快速入门</h1><h2 id="Spring程序开发步骤"><a href="#Spring程序开发步骤" class="headerlink" title="Spring程序开发步骤"></a>Spring程序开发步骤</h2><ol>
<li>导入Spring开发的基本包坐标</li>
<li>编写Dao接口和实现类</li>
<li>创建Spring核心配置文件</li>
<li>在Spring配置文件中配置 UserDaoImpl</li>
<li>使用Spring的API获得Bean实例</li>
</ol>
<h3 id="导入Spring开发的基本包坐标"><a href="#导入Spring开发的基本包坐标" class="headerlink" title="导入Spring开发的基本包坐标"></a>导入Spring开发的基本包坐标</h3><ol>
<li><p>创建一个spring的空项目</p>
<ul>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc1.jpg" alt="快速入门"></li>
</ul>
</li>
<li><p>选中spring，点击File =&gt; Project Structure，idea中指定他的output</p>
<ul>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc3.jpg" alt="快速入门"></li>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc2.jpg" alt="快速入门"></li>
</ul>
</li>
<li><p>创建一个itheima_spring_ioc的module，点击File =&gt; Project Structure,选择modules,在右边选中itheima_spring_ioc,点击+，添加web</p>
<ul>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc4.jpg" alt="快速入门"></li>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc5.jpg" alt="快速入门"></li>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc6.jpg" alt="快速入门"></li>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc7.jpg" alt="快速入门"></li>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc8.jpg" alt="快速入门"></li>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc9.jpg" alt="快速入门"></li>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc10.jpg" alt="快速入门"></li>
</ul>
</li>
<li><p>在pom.xml中，添加spring-context依赖</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-context&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;version&gt;5.3.7&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;&#x2F;dependencies&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="编写Dao接口和实现类"><a href="#编写Dao接口和实现类" class="headerlink" title="编写Dao接口和实现类"></a>编写Dao接口和实现类</h3><ol>
<li>在java文件夹下新建com.itheima.dao.UserDao的接口, 并写入一个getInitName方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line">public interface UserDao &#123;</span><br><span class="line">    public void getInitName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在java文件夹下新建com.itheima.dao.impl.UserDaoImpl的实现类，去实现UserDao接口的getInitName方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">    public void getInitName() &#123;</span><br><span class="line">        Map&lt;String, String&gt; map &#x3D; new HashMap&lt;String, String&gt;();</span><br><span class="line">        map.put(&quot;name&quot;, &quot;张三&quot;);</span><br><span class="line">        map.put(&quot;age&quot;, &quot;24&quot;);</span><br><span class="line">        for(Map.Entry entry: map.entrySet()) &#123;</span><br><span class="line">            System.out.println(&quot;key&#x3D;&quot; + entry.getKey() + &quot;,value&#x3D;&quot; + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="创建Spring核心配置文件"><a href="#创建Spring核心配置文件" class="headerlink" title="创建Spring核心配置文件"></a>创建Spring核心配置文件</h3><ol>
<li>在src/main/resources下创建applicationContext.xml<ul>
<li><img src= "/img/loading.gif" data-src="/images/spring/ioc11.jpg" alt="快速入门"><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="在Spring配置文件中配置UserDaoImpl"><a href="#在Spring配置文件中配置UserDaoImpl" class="headerlink" title="在Spring配置文件中配置UserDaoImpl"></a>在Spring配置文件中配置UserDaoImpl</h3>  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;bean id&#x3D;&quot;userDao&quot; class&#x3D;&quot;com.itheima.dao.impl.UserDaoImpl&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：id为唯一值，名字可以随便取。class为UserDaoImpl的文件路径</li>
</ul>
<h3 id="使用Spring的API获得Bean实例"><a href="#使用Spring的API获得Bean实例" class="headerlink" title="使用Spring的API获得Bean实例"></a>使用Spring的API获得Bean实例</h3>  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.demo;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        UserDao userDao &#x3D; (UserDao) app.getBean(&quot;userDao&quot;);</span><br><span class="line">        userDao.getInitName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Spring配置文件"><a href="#Spring配置文件" class="headerlink" title="Spring配置文件"></a>Spring配置文件</h1><h2 id="Bean标签基本配置"><a href="#Bean标签基本配置" class="headerlink" title="Bean标签基本配置"></a>Bean标签基本配置</h2><ul>
<li>用于配置对象交由Spring 来创建。默认情况下它调用的是类中的无参构造函数，如果没有无参构造函数则不能创建成功。</li>
<li>基本属性:<ul>
<li><strong>id</strong>：Bean实例在Spring容器中的唯一标识</li>
<li><strong>class</strong>：Bean的全限定名称</li>
</ul>
</li>
</ul>
<h2 id="Bean标签范围配置"><a href="#Bean标签范围配置" class="headerlink" title="Bean标签范围配置"></a>Bean标签范围配置</h2><ul>
<li>scope：指对象的作用范围，取值如下： <ul>
<li><img src= "/img/loading.gif" data-src="/images/spring/spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.jpg" alt="配置文件"></li>
</ul>
</li>
</ul>
<h2 id="Bean生命周期配置"><a href="#Bean生命周期配置" class="headerlink" title="Bean生命周期配置"></a>Bean生命周期配置</h2><ul>
<li><strong>init-method</strong>：指定类中的初始化方法名称</li>
<li><strong>destroy-method</strong>：指定类中销毁方法名称</li>
</ul>
<h2 id="Bean实例化三种方式"><a href="#Bean实例化三种方式" class="headerlink" title="Bean实例化三种方式"></a>Bean实例化三种方式</h2><ul>
<li><p>无参构造方法实例化</p>
<ul>
<li>它会根据默认无参构造方法来创建类对象，如果bean中没有默认无参构造函数，将会创建失败<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;userDao&quot; class&#x3D;&quot;com.itheima.dao.impl.UserDaoImpl&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>工厂静态方法实例化</p>
<ul>
<li>工厂的静态方法返回Bean实例<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class StaticFactoryBean &#123;</span><br><span class="line">    public static UserDao createUserDao()&#123;</span><br><span class="line">      return new UserDaoImpl();    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;bean id&#x3D;&quot;userDao&quot; class&#x3D;&quot;com.itheima.factory.StaticFactoryBean&quot; factory-method&#x3D;&quot;createUserDao&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>工厂实例方法实例化</p>
<ul>
<li>工厂的非静态方法返回Bean实例<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class DynamicFactoryBean &#123;</span><br><span class="line">  public UserDao createUserDao()&#123;</span><br><span class="line">    return new UserDaoImpl();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;bean id&#x3D;&quot;factoryBean&quot; class&#x3D;&quot;com.itheima.factory.DynamicFactoryBean&quot;&#x2F;&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;userDao&quot; factory-bean&#x3D;&quot;factoryBean&quot; factory-method&#x3D;&quot;createUserDao&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="Bean的依赖注入概念"><a href="#Bean的依赖注入概念" class="headerlink" title="Bean的依赖注入概念"></a>Bean的依赖注入概念</h2><p>依赖注入（Dependency Injection）：它是 Spring 框架核心 IOC 的具体实现。</p>
<p>在编写程序时，通过控制反转，把对象的创建交给了 Spring，但是代码中不可能出现没有依赖的情况。<br>IOC 解耦只是降低他们的依赖关系，但不会消除。例如：业务层仍会调用持久层的方法。</p>
<p>那这种业务层和持久层的依赖关系，在使用 Spring 之后，就让 Spring 来维护了。<br>简单的说，就是坐等框架把持久层对象传入业务层，而不用我们自己去获取。</p>
<h2 id="Bean的依赖注入方式"><a href="#Bean的依赖注入方式" class="headerlink" title="Bean的依赖注入方式"></a>Bean的依赖注入方式</h2><ul>
<li><p>构造方法</p>
<ol>
<li><p>创建一个新的itheima_spring_04的module,并在java下创建com.itheima.dao.GoodsDao接口</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line"></span><br><span class="line">public interface GoodsDao &#123;</span><br><span class="line">    public void searchGoodsDetail();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在dao下面创建impl.GoodsDaoImpl的实现类，去实现searchGoodsDetail方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.GoodsDao;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class GoodsDaoImpl implements GoodsDao &#123;</span><br><span class="line">    public void searchGoodsDetail() &#123;</span><br><span class="line">        Map map &#x3D; new HashMap&lt;String, String&gt;();</span><br><span class="line">        map.put(&quot;id&quot;, &quot;1&quot;);</span><br><span class="line">        map.put(&quot;goodsName&quot;, &quot;小米11&quot;);</span><br><span class="line">        map.put(&quot;price&quot;, &quot;3999&quot;);</span><br><span class="line">        System.out.println(map.get(&quot;price&quot;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在src/main/resources创建string核心配置文件applicationContext.xml，并配置GoodsDaoImpl</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;goods&quot; class&#x3D;&quot;com.itheima.dao.impl.GoodsDaoImpl&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>在java下创建com.itheima.service.GoodsService的业务层接口</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service;</span><br><span class="line"></span><br><span class="line">public interface GoodsService &#123;</span><br><span class="line">    public void getGoodsPrice();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在service下，创建impl.GoodsServiceImpl的实现类，去实现业务层getGoodsPrice的方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.GoodsDao;</span><br><span class="line">import com.itheima.service.GoodsService;</span><br><span class="line"></span><br><span class="line">public class GoodsServiceImpl implements GoodsService &#123;</span><br><span class="line">    private GoodsDao gd;</span><br><span class="line">    public GoodsServiceImpl(GoodsDao gd) &#123;</span><br><span class="line">        this.gd &#x3D; gd;</span><br><span class="line">    &#125;</span><br><span class="line">    public void getGoodsPrice() &#123;</span><br><span class="line">        gd.searchGoodsDetail();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在applicationContext.xml中，将dao层的参数gd注入到GoodsDao的构造函数中</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;goods&quot; class&#x3D;&quot;com.itheima.dao.impl.GoodsDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;goodsService&quot; class&#x3D;&quot;com.itheima.service.impl.GoodsServiceImpl&quot;&gt;</span><br><span class="line">    &lt;constructor-arg name&#x3D;&quot;gd&quot; ref&#x3D;&quot;goods&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在com.itheima下创建demo.test的类去测试(随便用个文件去测试即可)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.demo;</span><br><span class="line">import com.itheima.service.GoodsService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        GoodsService gs &#x3D; (GoodsService) app.getBean(&quot;goodsService&quot;);</span><br><span class="line">        gs.getGoodsPrice();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>set方法</p>
<ol>
<li><p>创建一个新的itheima_spring_03的module,并在java下创建com.itheima.dao.StudentDao接口</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line"></span><br><span class="line">public interface StudentDao &#123;</span><br><span class="line">    public void getPont();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在dao下面创建impl.StudentDaoImpl的实现类，去实现getPont方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line"></span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    public void getPont() &#123;</span><br><span class="line">        System.out.println(&quot;您的分数是：68&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在src/main/resources创建string核心配置文件applicationContext.xml，并配置StudentDaoImpl</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDao&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>在java下创建com.itheima.service.StudentService的业务层接口</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service;</span><br><span class="line"></span><br><span class="line">public interface StudentService &#123;</span><br><span class="line">    public void getMyPoint();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在service下，创建impl.StudentServiceImpl的实现类，去实现业务层getMyPoint的方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line"></span><br><span class="line">public class StudentServiceImpl implements StudentService &#123;</span><br><span class="line">    private StudentDao sd;</span><br><span class="line"></span><br><span class="line">    public void setSd(StudentDao sd) &#123;</span><br><span class="line">        this.sd &#x3D; sd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void getMyPoint() &#123;</span><br><span class="line">        sd.getPont();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在applicationContext.xml中，将dao层的StudentDao注入到service层</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  &lt;bean id&#x3D;&quot;studentService&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;studentDao&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：property里的name为setSd去掉set的内容，ref关联dao层的StudentDao</li>
</ul>
</li>
<li><p>在com.itheima下创建demo.StudentDemo的类去测试(随便用个文件去测试即可)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.demo;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class StudentDemo &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        StudentService ss &#x3D; (StudentService) app.getBean(&quot;studentService&quot;);</span><br><span class="line">        ss.getMyPoint();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意：在applicationContext.xml核心配置文件里，依赖注入可以使用命名空间</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 使用前的写法：</span><br><span class="line"></span><br><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;bean id&#x3D;&quot;studentDao&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">  &lt;bean id&#x3D;&quot;studentService&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;studentDao&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br><span class="line"></span><br><span class="line"># 使用后的写法：引入p，然后添加p属性，idea有代码提示</span><br><span class="line"></span><br><span class="line">  &lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">  &lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">        xmlns:p&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;p&quot;</span><br><span class="line">        xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">        xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">      &lt;bean id&#x3D;&quot;studentDao&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">      &lt;bean id&#x3D;&quot;studentService&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot; p:sd-ref&#x3D;&quot;studentDao&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h2 id="Bean的依赖注入的数据类型"><a href="#Bean的依赖注入的数据类型" class="headerlink" title="Bean的依赖注入的数据类型"></a>Bean的依赖注入的数据类型</h2><ul>
<li>注入数据的三种数据类型 <ul>
<li>普通数据类型</li>
<li>引用数据类型</li>
<li>集合数据类型</li>
</ul>
</li>
</ul>
<h3 id="普通数据类型"><a href="#普通数据类型" class="headerlink" title="普通数据类型"></a>普通数据类型</h3><ol>
<li><p>创建一个新的itheima_spring_05的module,并在java下创建com.itheima.dao.StudentDao接口</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line"></span><br><span class="line">public interface StudentDao &#123;</span><br><span class="line">    public void getInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在dao下面创建impl.StudentDaoImpl的实现类，去实现getPont方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line"></span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    private String name;</span><br><span class="line">    private int age;</span><br><span class="line">    private int point;</span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setAge(int age) &#123;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setPoint(int point) &#123;</span><br><span class="line">        this.point &#x3D; point;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;StudentDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;name&#x3D;&#39;&quot; + name + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, age&#x3D;&quot; + age +</span><br><span class="line">                &quot;, point&#x3D;&quot; + point +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void getPoint() &#123;</span><br><span class="line">        String res &#x3D;  this.toString();</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在src/main/resources创建string核心配置文件applicationContext.xml，并配置StudentDaoImpl</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;ss&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;zhangsan&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;age&quot; value&#x3D;&quot;20&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;point&quot; value&#x3D;&quot;99&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>在java下创建com.itheima.service.StudentService的业务层接口</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service;</span><br><span class="line">public interface StudentService &#123;</span><br><span class="line">    public void getInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在service下，创建impl.StudentServiceImpl的实现类，去实现业务层getInfo的方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">public class StudentServiceImpl implements StudentService &#123;</span><br><span class="line">    private StudentDao sd;</span><br><span class="line">    public void setSd(StudentDao sd) &#123;</span><br><span class="line">        this.sd &#x3D; sd;</span><br><span class="line">    &#125;</span><br><span class="line">    public void getInfo() &#123;</span><br><span class="line">        sd.getPoint();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在applicationContext.xml中，将dao层的StudentDao注入到service层</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;ss&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;zhangsan&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;age&quot; value&#x3D;&quot;20&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;point&quot; value&#x3D;&quot;99&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentService&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;ss&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：property里的name为setSd去掉set的内容，ref关联dao层的StudentDao</li>
</ul>
</li>
<li><p>在com.itheima下创建Test的类去测试(随便用个文件去测试即可)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        StudentService ss &#x3D; (StudentService) app.getBean(&quot;studentService&quot;);</span><br><span class="line">        ss.getInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h3><ul>
<li>参考前面的sptring快速入门</li>
</ul>
<h3 id="集合数据类型"><a href="#集合数据类型" class="headerlink" title="集合数据类型"></a>集合数据类型</h3><h4 id="List-lt-String-gt-的注入-list普通数据"><a href="#List-lt-String-gt-的注入-list普通数据" class="headerlink" title="List&lt;String&gt;的注入(list普通数据)"></a><code>List&lt;String&gt;</code>的注入(list普通数据)</h4><ul>
<li><p>在上面普通数据类型中的步骤2：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import java.util.List;</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    private List&lt;String&gt; strList;</span><br><span class="line">    public void setStrList(List&lt;String&gt; strList) &#123;</span><br><span class="line">        this.strList &#x3D; strList;</span><br><span class="line">    &#125;</span><br><span class="line">    public void getPoint() &#123;</span><br><span class="line">        System.out.println(strList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>步骤3：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;ss&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;strList&quot;&gt;</span><br><span class="line">        &lt;list&gt;</span><br><span class="line">            &lt;value&gt;小米11&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;value&gt;华为mate60&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;value&gt;魅族17&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;list&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>步骤6：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;ss&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;strList&quot;&gt;</span><br><span class="line">        &lt;list&gt;</span><br><span class="line">            &lt;value&gt;小米11&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;value&gt;华为mate60&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;value&gt;魅族17&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;list&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentService&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;ss&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="List-lt-Student-gt-的注入-list嵌套map"><a href="#List-lt-Student-gt-的注入-list嵌套map" class="headerlink" title="List&lt;Student&gt;的注入(list嵌套map)"></a><code>List&lt;Student&gt;</code>的注入(list嵌套map)</h4><ol>
<li>创建一个新的itheima_spring_07的module,并在java下创建com.itheima.dao.StudentDao接口<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line">public interface StudentDao &#123;</span><br><span class="line">    public void searchInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在java下创建com.itheima.common.Student的类<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.common;</span><br><span class="line">public class Student &#123;</span><br><span class="line">    private String name;</span><br><span class="line">    private String age;</span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setAge(String age) &#123;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Student&#123;&quot; +</span><br><span class="line">                &quot;name&#x3D;&#39;&quot; + name + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, age&#x3D;&#39;&quot; + age + &#39;\&#39;&#39; +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在dao下面创建impl.StudentDaoImpl的实现类，定义一个<code>List&lt;map&gt;</code>,实现searchInfo方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.common.Student;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import java.util.List;</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    private List&lt;Student&gt; list;</span><br><span class="line">    public void setList(List&lt;Student&gt; list) &#123;</span><br><span class="line">        this.list &#x3D; list;</span><br><span class="line">    &#125;</span><br><span class="line">    public void searchInfo() &#123;</span><br><span class="line">        System.out.println(list.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在src/main/resources创建string核心配置文件applicationContext.xml，并配置StudentDaoImpl<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;student&quot; class&#x3D;&quot;com.itheima.common.Student&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;张三&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;age&quot; value&#x3D;&quot;22&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;student2&quot; class&#x3D;&quot;com.itheima.common.Student&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;王麻子&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;age&quot; value&#x3D;&quot;30&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;list&quot;&gt;</span><br><span class="line">        &lt;list&gt;</span><br><span class="line">            &lt;ref bean&#x3D;&quot;student&quot; &#x2F;&gt;</span><br><span class="line">            &lt;ref bean&#x3D;&quot;student2&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;list&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure></li>
<li>在java下创建com.itheima.service.StudentService的业务层接口<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service;</span><br><span class="line">public interface StudentService &#123;</span><br><span class="line">    public void getStudentInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在service下，创建impl.StudentServiceImpl的实现类，去实现业务层getStudentInfo的方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">public class StudentServiceImpl implements StudentService &#123;</span><br><span class="line">    private StudentDao sd;</span><br><span class="line">    public void setSd(StudentDao sd) &#123;</span><br><span class="line">        this.sd &#x3D; sd;</span><br><span class="line">    &#125;</span><br><span class="line">    public void getStudentInfo() &#123;</span><br><span class="line">        sd.searchInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在applicationContext.xml中，将dao层的StudentDao注入到service层<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;list&quot;&gt;</span><br><span class="line">        &lt;list&gt;</span><br><span class="line">            &lt;ref bean&#x3D;&quot;student&quot; &#x2F;&gt;</span><br><span class="line">            &lt;ref bean&#x3D;&quot;student2&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;list&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentServiceImpl&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;studentDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>注意：property里的name为setSd去掉set的内容，ref关联dao层的StudentDao</li>
</ul>
<ol start="8">
<li>在com.itheima下创建Test的类去测试(随便用个文件去测试即可)<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        StudentService ss &#x3D; (StudentService) app.getBean(&quot;studentServiceImpl&quot;);</span><br><span class="line">        ss.getStudentInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="Map-lt-String-String-gt-的注入"><a href="#Map-lt-String-String-gt-的注入" class="headerlink" title="Map&lt;String, String&gt;的注入"></a><code>Map&lt;String, String&gt;</code>的注入</h4><ul>
<li>在上面list嵌套map的注入步骤3，在dao下面创建impl.StudentDaoImpl的实现类，定义一个<code>map&lt;String, String&gt;</code>,实现searchInfo方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import java.util.Map;</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    private Map&lt;String, String&gt; map;</span><br><span class="line">    public void setMap(Map&lt;String, String&gt; map) &#123;</span><br><span class="line">        this.map &#x3D; map;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;StudentDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;map&#x3D;&quot; + map +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void searchInfo() &#123;</span><br><span class="line">        System.out.println(map.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>步骤4：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;map&quot;&gt;</span><br><span class="line">        &lt;map&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;name&quot; value&#x3D;&quot;zhangsan&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;age&quot; value-ref&#x3D;&quot;18&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">        &lt;&#x2F;map&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure></li>
<li>步骤7：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;map&quot;&gt;</span><br><span class="line">        &lt;map&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;name&quot; value&#x3D;&quot;zhangsan&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;age&quot; value-ref&#x3D;&quot;18&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">        &lt;&#x2F;map&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentServiceImpl&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;studentDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Map-lt-String-Student-gt-的注入"><a href="#Map-lt-String-Student-gt-的注入" class="headerlink" title="Map&lt;String,Student&gt;的注入"></a><code>Map&lt;String,Student&gt;</code>的注入</h4><ul>
<li>在上面list嵌套map的注入步骤3，在dao下面创建impl.StudentDaoImpl的实现类，定义一个<code>map&lt;String, Student&gt;</code>,实现searchInfo方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.common.Student;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import java.util.Map;</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    private Map&lt;String, Student&gt; map;</span><br><span class="line">    public void setMap(Map&lt;String, Student&gt; map) &#123;</span><br><span class="line">        this.map &#x3D; map;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;StudentDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;map&#x3D;&quot; + map +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void searchInfo() &#123;</span><br><span class="line">        System.out.println(map.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>步骤4：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;student&quot; class&#x3D;&quot;com.itheima.common.Student&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;张三&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;age&quot; value&#x3D;&quot;22&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;student2&quot; class&#x3D;&quot;com.itheima.common.Student&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;王麻子&quot; &#x2F;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;age&quot; value&#x3D;&quot;30&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;map&quot;&gt;</span><br><span class="line">        &lt;map&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;s1&quot; value-ref&#x3D;&quot;student&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;s2&quot; value-ref&#x3D;&quot;student2&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">        &lt;&#x2F;map&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure></li>
<li>步骤7：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;map&quot;&gt;</span><br><span class="line">        &lt;map&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;s1&quot; value-ref&#x3D;&quot;student&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">            &lt;entry key&#x3D;&quot;s2&quot; value-ref&#x3D;&quot;student2&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">        &lt;&#x2F;map&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentServiceImpl&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;studentDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Set-lt-String-gt-的注入"><a href="#Set-lt-String-gt-的注入" class="headerlink" title="Set&lt;String&gt;的注入"></a><code>Set&lt;String&gt;</code>的注入</h4><ul>
<li>在上面list嵌套map的注入步骤3，在dao下面创建impl.StudentDaoImpl的实现类，定义一个<code>Set&lt;String&gt;</code>,实现searchInfo方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import java.util.Set;</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    private Set&lt;String&gt; setSd;</span><br><span class="line">    public void setSetSd(Set&lt;String&gt; setSd) &#123;</span><br><span class="line">        this.setSd &#x3D; setSd;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;StudentDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;setSd&#x3D;&quot; + setSd +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void searchInfo() &#123;</span><br><span class="line">        System.out.println(setSd.toString());</span><br><span class="line">        System.out.println(setSd.toArray());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>步骤4：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;setSd&quot;&gt;</span><br><span class="line">        &lt;set&gt;</span><br><span class="line">            &lt;value&gt;123&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;value&gt;456&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;set&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure></li>
<li>步骤7：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;setSd&quot;&gt;</span><br><span class="line">        &lt;set&gt;</span><br><span class="line">            &lt;value&gt;123&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;value&gt;456&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;set&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentServiceImpl&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;studentDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Properties注入"><a href="#Properties注入" class="headerlink" title="Properties注入"></a>Properties注入</h4><ul>
<li>在上面list嵌套map的注入步骤3，在dao下面创建impl.StudentDaoImpl的实现类，定义一个Properties,实现searchInfo方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import java.util.Properties;</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    private Properties properties;</span><br><span class="line">    public void setProperties(Properties properties) &#123;</span><br><span class="line">        this.properties &#x3D; properties;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;StudentDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;properties&#x3D;&quot; + properties +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void searchInfo() &#123;</span><br><span class="line">        System.out.println(properties.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>步骤4：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;properties&quot;&gt;</span><br><span class="line">        &lt;props&gt;</span><br><span class="line">            &lt;prop key&#x3D;&quot;key1&quot;&gt;aaa&lt;&#x2F;prop&gt;</span><br><span class="line">            &lt;prop key&#x3D;&quot;key2&quot;&gt;bbb&lt;&#x2F;prop&gt;</span><br><span class="line">        &lt;&#x2F;props&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure></li>
<li>步骤7：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;studentDaoImpl&quot; class&#x3D;&quot;com.itheima.dao.impl.StudentDaoImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;properties&quot;&gt;</span><br><span class="line">        &lt;props&gt;</span><br><span class="line">            &lt;prop key&#x3D;&quot;key1&quot;&gt;aaa&lt;&#x2F;prop&gt;</span><br><span class="line">            &lt;prop key&#x3D;&quot;key2&quot;&gt;bbb&lt;&#x2F;prop&gt;</span><br><span class="line">        &lt;&#x2F;props&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;studentServiceImpl&quot; class&#x3D;&quot;com.itheima.service.impl.StudentServiceImpl&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;sd&quot; ref&#x3D;&quot;studentDaoImpl&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="引入其他配置文件-分模块开发"><a href="#引入其他配置文件-分模块开发" class="headerlink" title="引入其他配置文件(分模块开发)"></a>引入其他配置文件(分模块开发)</h2><ul>
<li>实际开发中，Spring的配置内容非常多，这就导致Spring配置很繁杂且体积很大，所以，可以将部分配置拆解到其他配置文件中，而在Spring主配置文件通过import标签进行加载<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;import resource&#x3D;&quot;applicationContext-xxx.xml&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2>  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean&gt;标签</span><br><span class="line">    id属性:在容器中Bean实例的唯一标识，不允许重复</span><br><span class="line">    class属性:要实例化的Bean的全限定名</span><br><span class="line">    scope属性:Bean的作用范围，常用是Singleton(默认)和prototype</span><br><span class="line">    &lt;property&gt;标签：属性注入</span><br><span class="line">        name属性：属性名称</span><br><span class="line">        value属性：注入的普通属性值</span><br><span class="line">        ref属性：注入的对象引用值</span><br><span class="line">        &lt;list&gt;标签</span><br><span class="line">        &lt;map&gt;标签</span><br><span class="line">        &lt;properties&gt;标签</span><br><span class="line">    &lt;constructor-arg&gt;标签</span><br><span class="line">&lt;import&gt;标签:导入其他的Spring的分文件</span><br></pre></td></tr></table></figure>

<h1 id="Spring配置数据源"><a href="#Spring配置数据源" class="headerlink" title="Spring配置数据源"></a>Spring配置数据源</h1><h2 id="数据源（连接池）的作用"><a href="#数据源（连接池）的作用" class="headerlink" title="数据源（连接池）的作用"></a>数据源（连接池）的作用</h2><ul>
<li>数据源(连接池)是提高程序性能如出现的</li>
<li>事先实例化数据源，初始化部分连接资源</li>
<li>使用连接资源时从数据源中获取</li>
<li>使用完毕后将连接资源归还给数据源</li>
<li>常见的数据源(连接池)：DBCP、C3P0、BoneCP、Druid等</li>
</ul>
<h2 id="数据源的开发步骤"><a href="#数据源的开发步骤" class="headerlink" title="数据源的开发步骤"></a>数据源的开发步骤</h2><ol>
<li>导入数据源的坐标和数据库驱动坐标</li>
<li>创建数据源对象</li>
<li>设置数据源的基本连接数据</li>
<li>使用数据源获取连接资源和归还连接资源</li>
</ol>
<h3 id="c3p0的开发步骤"><a href="#c3p0的开发步骤" class="headerlink" title="c3p0的开发步骤"></a>c3p0的开发步骤</h3><h4 id="导入数据源的坐标和数据库驱动坐标"><a href="#导入数据源的坐标和数据库驱动坐标" class="headerlink" title="导入数据源的坐标和数据库驱动坐标"></a>导入数据源的坐标和数据库驱动坐标</h4><ul>
<li>导入c3p0的坐标<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;   </span><br><span class="line">  &lt;groupId&gt;c3p0&lt;&#x2F;groupId&gt; </span><br><span class="line">  &lt;artifactId&gt;c3p0&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;0.9.1.2&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>导入mysql数据库驱动坐标<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.1.46&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>导入测试插件junit<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.12&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h4><ul>
<li>创建一个新的itheima_spring_09的module,并在java下创建com.itheima.test.C3p0Test的测试类</li>
<li>编写测试代码<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.test;</span><br><span class="line">import com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">public class C3p0Test &#123;</span><br><span class="line">    @Test</span><br><span class="line">    public void test1() throws Exception &#123;</span><br><span class="line">        &#x2F;&#x2F;创建数据源</span><br><span class="line">        ComboPooledDataSource dataSource &#x3D; new ComboPooledDataSource();</span><br><span class="line">        &#x2F;&#x2F; 设置数据库参数</span><br><span class="line">        dataSource.setDriverClass(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">        dataSource.setJdbcUrl(&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test&quot;);</span><br><span class="line">        dataSource.setUser(&quot;root&quot;);</span><br><span class="line">        dataSource.setPassword(&quot;root&quot;);</span><br><span class="line">        &#x2F;&#x2F; 获取连接对象</span><br><span class="line">        Connection connection &#x3D; dataSource.getConnection();</span><br><span class="line">        System.out.println(connection);</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="druid的开发步骤"><a href="#druid的开发步骤" class="headerlink" title="druid的开发步骤"></a>druid的开发步骤</h3><h4 id="导入数据源的坐标和数据库驱动坐标-1"><a href="#导入数据源的坐标和数据库驱动坐标-1" class="headerlink" title="导入数据源的坐标和数据库驱动坐标"></a>导入数据源的坐标和数据库驱动坐标</h4><ul>
<li>导入druid的坐标<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;druid&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.1.10&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>导入mysql数据库驱动坐标<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.1.46&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>导入测试插件junit<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.12&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="完整代码-1"><a href="#完整代码-1" class="headerlink" title="完整代码"></a>完整代码</h4><ul>
<li>创建一个新的itheima_spring_09的module,并在java下创建com.itheima.test.DruidTest的测试类</li>
<li>完整代码<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.test;</span><br><span class="line">import com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">public class DruidTest &#123;</span><br><span class="line">    @Test</span><br><span class="line">    public void test2() throws Exception &#123;</span><br><span class="line">        &#x2F;&#x2F; 创建数据源</span><br><span class="line">        DruidDataSource dataSource &#x3D; new DruidDataSource();</span><br><span class="line">        &#x2F;&#x2F; 设置数据库连接参数</span><br><span class="line">        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">        dataSource.setUrl(&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test&quot;);</span><br><span class="line">        dataSource.setUsername(&quot;root&quot;);</span><br><span class="line">        dataSource.setPassword(&quot;root&quot;);</span><br><span class="line">        &#x2F;&#x2F; 获取连接对象</span><br><span class="line">        Connection connection &#x3D; dataSource.getConnection();</span><br><span class="line">        System.out.println(connection);</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Spring配置数据源-1"><a href="#Spring配置数据源-1" class="headerlink" title="Spring配置数据源"></a>Spring配置数据源</h2><ul>
<li>可以将DataSource的创建权交由Spring容器去完成<ul>
<li>DataSource有无参构造方法，而Spring默认就是通过无参构造方法实例化对象的</li>
<li>DataSource要想使用需要通过set方法设置数据库连接信息，而Spring可以通过set方法进行字符串注入</li>
</ul>
</li>
</ul>
<h3 id="C3p0的配置参数抽取到resources的jdbc-properties"><a href="#C3p0的配置参数抽取到resources的jdbc-properties" class="headerlink" title="C3p0的配置参数抽取到resources的jdbc.properties"></a>C3p0的配置参数抽取到resources的jdbc.properties</h3><ol>
<li><p>在resources下新建jdbc.properties，并写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jdbc.driver&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test</span><br><span class="line">jdbc.username&#x3D;root</span><br><span class="line">jdbc.password&#x3D;root</span><br></pre></td></tr></table></figure>
</li>
<li><p>在com.itheima.test下创建一个C3p0PropertiesTest的类，并写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.test;</span><br><span class="line">import com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.util.ResourceBundle;</span><br><span class="line">public class C3p0PropertiesTest &#123;</span><br><span class="line">    @Test</span><br><span class="line">    &#x2F;&#x2F; 测试手动创建c3p0数据源(加载properties配置文件)</span><br><span class="line">    public void test3() throws Exception &#123;</span><br><span class="line">        &#x2F;&#x2F; 读取配置文件</span><br><span class="line">        ResourceBundle rb &#x3D; ResourceBundle.getBundle(&quot;jdbc&quot;);</span><br><span class="line">        String driver &#x3D; rb.getString(&quot;jdbc.driver&quot;);</span><br><span class="line">        String url &#x3D; rb.getString(&quot;jdbc.url&quot;);</span><br><span class="line">        String username &#x3D; rb.getString(&quot;jdbc.username&quot;);</span><br><span class="line">        String password &#x3D; rb.getString(&quot;jdbc.password&quot;);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;创建数据源</span><br><span class="line">        ComboPooledDataSource dataSource &#x3D; new ComboPooledDataSource();</span><br><span class="line">        &#x2F;&#x2F; 设置数据库参数</span><br><span class="line">        dataSource.setDriverClass(driver);</span><br><span class="line">        dataSource.setJdbcUrl(url);</span><br><span class="line">        dataSource.setUser(username);</span><br><span class="line">        dataSource.setPassword(password);</span><br><span class="line">        &#x2F;&#x2F; 获取连接对象</span><br><span class="line">        Connection connection &#x3D; dataSource.getConnection();</span><br><span class="line">        System.out.println(connection);</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="druid的配置参数抽取到resources的jdbc-properties"><a href="#druid的配置参数抽取到resources的jdbc-properties" class="headerlink" title="druid的配置参数抽取到resources的jdbc.properties"></a>druid的配置参数抽取到resources的jdbc.properties</h3><ol>
<li><p>在resources下新建jdbc.properties，并写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jdbc.driver&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test</span><br><span class="line">jdbc.username&#x3D;root</span><br><span class="line">jdbc.password&#x3D;root</span><br></pre></td></tr></table></figure>
</li>
<li><p>在com.itheima.test下创建一个DruidTest的类，并写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line">import com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.util.ResourceBundle;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void test2() throws Exception &#123;</span><br><span class="line">    ResourceBundle rb &#x3D; ResourceBundle.getBundle(&quot;jdbc&quot;);</span><br><span class="line">    String driver &#x3D; rb.getString(&quot;jdbc.driver&quot;);</span><br><span class="line">    String url &#x3D; rb.getString(&quot;jdbc.url&quot;);</span><br><span class="line">    String user &#x3D; rb.getString(&quot;jdbc.user&quot;);</span><br><span class="line">    String password &#x3D; rb.getString(&quot;jdbc.password&quot;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 创建数据源</span><br><span class="line">    DruidDataSource dataSource &#x3D; new DruidDataSource();</span><br><span class="line">    &#x2F;&#x2F; 设置数据库连接参数</span><br><span class="line">    dataSource.setDriverClassName(driver);</span><br><span class="line">    dataSource.setUrl(url);</span><br><span class="line">    dataSource.setUsername(user);</span><br><span class="line">    dataSource.setPassword(password);</span><br><span class="line">    &#x2F;&#x2F; 获取连接对象</span><br><span class="line">    Connection connection &#x3D; dataSource.getConnection();</span><br><span class="line">    System.out.println(connection);</span><br><span class="line">    connection.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="将C3p0的配置参数配置到applicationContext-xml中"><a href="#将C3p0的配置参数配置到applicationContext-xml中" class="headerlink" title="将C3p0的配置参数配置到applicationContext.xml中"></a>将C3p0的配置参数配置到applicationContext.xml中</h3><ol>
<li><p>在applicationContext.xml中： </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line">&lt;!--c3p0的数据库配置--&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;root&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;root&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在java下新建com.itheima.DruidTest类，并写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">import javax.sql.DataSource;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void test3() throws Exception &#123;</span><br><span class="line">    ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);</span><br><span class="line">    DataSource dataSource &#x3D; app.getBean(DataSource.class);</span><br><span class="line">    Connection connection &#x3D; dataSource.getConnection();</span><br><span class="line">    System.out.println(dataSource);</span><br><span class="line">    connection.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="将druid的配置参数配置到applicationContext-xml中"><a href="#将druid的配置参数配置到applicationContext-xml中" class="headerlink" title="将druid的配置参数配置到applicationContext.xml中"></a>将druid的配置参数配置到applicationContext.xml中</h3><ol>
<li><p>在applicationContext.xml中： </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line">&lt;!--druid数据库配置--&gt;</span><br><span class="line">  &lt;bean id&#x3D;&quot;druidDataSource&quot; class&#x3D;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">      &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">      &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">      &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;root&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">      &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;root&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">  &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在java下新建com.itheima.DruidTest类，并写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">import com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void Test3() throws Exception &#123;</span><br><span class="line">    ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">    DruidDataSource ds &#x3D; (DruidDataSource) app.getBean(&quot;druidDataSource&quot;);</span><br><span class="line">    Connection connection &#x3D; ds.getConnection();</span><br><span class="line">    System.out.println(connection);</span><br><span class="line">    connection.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="jdbc-properties与xml分开"><a href="#jdbc-properties与xml分开" class="headerlink" title="jdbc.properties与xml分开"></a>jdbc.properties与xml分开</h3><ol>
<li><p>在jdbc.properties中：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jdbc.driver&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test</span><br><span class="line">jdbc.user&#x3D;root</span><br><span class="line">jdbc.password&#x3D;root</span><br></pre></td></tr></table></figure>
</li>
<li><p>在application.xml中，添加context标签</p>
<ul>
<li><p>首先，需要引入context命名空间和约束路径：</p>
<ul>
<li>命名空间：xmlns:context=”<a href="http://www.springframework.org/schema/context&quot;" target="_blank" rel="noopener">http://www.springframework.org/schema/context&quot;</a></li>
<li>约束路径：<a href="http://www.springframework.org/schema/context" target="_blank" rel="noopener">http://www.springframework.org/schema/context</a> <a href="http://www.springframework.org/schema/context/spring-context.xsd" target="_blank" rel="noopener">http://www.springframework.org/schema/context/spring-context.xsd</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;</span><br><span class="line">            http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">            http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd</span><br><span class="line">        &quot;&gt;</span><br><span class="line">        &lt;!--使用context标签--&gt;</span><br><span class="line">    &lt;context:property-placeholder location&#x3D;&quot;classpath:jdbc.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;</span><br><span class="line">&lt;!--c3p0的数据库配置--&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;driverClass&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;jdbcUrl&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;$&#123;jdbc.user&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;!--druid的数据库配置--&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;druidDataSource&quot; class&#x3D;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;user&quot; value&#x3D;&quot;$&#123;jdbc.user&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h1 id="Spring注解开发"><a href="#Spring注解开发" class="headerlink" title="Spring注解开发"></a>Spring注解开发</h1><h2 id="Spring原始注解"><a href="#Spring原始注解" class="headerlink" title="Spring原始注解"></a>Spring原始注解</h2><ul>
<li>Spring是轻代码而重配置的框架，配置比较繁重，影响开发效率，所以注解开发是一种趋势，注解代替xml配置文件可以简化配置，提高开发效率。</li>
<li>Spring原始注解主要是替代<code>&lt;Bean&gt;</code>的配置<ul>
<li><img src= "/img/loading.gif" data-src="/images/spring/%E5%8E%9F%E5%A7%8B%E6%B3%A8%E8%A7%A3.jpg" alt="原始注解"></li>
</ul>
</li>
<li>注意：使用注解进行开发时，需要在applicationContext.xml中配置组件扫描，作用是指定哪个包及其子包下的Bean需要进行扫描以便识别使用注解配置的类、字段和方法。<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--注解的组件扫描--&gt;</span><br><span class="line">&lt;context:component-scan base-package&#x3D;&quot;com.itheima&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="不含注解的代码编写"><a href="#不含注解的代码编写" class="headerlink" title="不含注解的代码编写"></a>不含注解的代码编写</h3><ol>
<li>新建一个itheima_spring_ioc10的module,选中并在File=&gt;Project Structure添加webapp文件夹</li>
<li>在pom.xml中添加spring-context依赖<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-context&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.3.7&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>在java下新建com.itheima.dao.UserDao的接口，实现save方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line">public interface UserDao &#123;</span><br><span class="line">    public void save();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在dao下新建impl.UserDaoImpl的实现类，去实现UserDao的save方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;save running...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在resources下新建applicationContext.xml文件，配置UserDaoImpl</li>
</ol>
<h3 id="注解代码编写"><a href="#注解代码编写" class="headerlink" title="注解代码编写"></a>注解代码编写</h3><ol>
<li>新建一个itheima_spring_di的module,选中并在File=&gt;Project Structure添加webapp文件夹</li>
<li>在pom.xml中添加spring-context依赖<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-context&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.3.7&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>在java下新建com.itheima.dao.UserDao的接口，实现save方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line">public interface UserDao &#123;</span><br><span class="line">    public void save();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在dao下新建impl.UserDaoImpl的实现类，去实现UserDao的save方法, 并添加@Repository注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userDao&quot; class&#x3D;&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">@Repository(&quot;userDao&quot;)</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;save running....2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在java下新建com.itheima.service.UserService的接口<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service;</span><br><span class="line">public interface UserService &#123;</span><br><span class="line">    public void saveResult();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在service下新建impl.UserServiceImpl的实现类，去实现saveResult方法，并添加@Service，@Resource注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import com.itheima.service.UserService;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userService&quot; class&#x3D;&quot;com.itheima.service.impl.UserServiceImpl&quot;&gt;</span><br><span class="line">@Service(&quot;userService&quot;)</span><br><span class="line">public class UserServiceImpl implements UserService &#123;</span><br><span class="line">    @Resource(name &#x3D; &quot;userDao&quot;)</span><br><span class="line">    private UserDao ud;</span><br><span class="line">    public void setUd(UserDao ud) &#123;</span><br><span class="line">        this.ud &#x3D; ud;</span><br><span class="line">    &#125;</span><br><span class="line">    public void saveResult() &#123;</span><br><span class="line">        ud.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在applicationContext.xml中将这些注解通知spring，需添加context标签(在beans添加xmlns:context和xsi:schemaLocation)<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">  xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;</span><br><span class="line">  http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">  http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd</span><br><span class="line">&quot;&gt;</span><br><span class="line">  &lt;context:component-scan base-package&#x3D;&quot;com.itheima&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure></li>
<li>编写测试类Test<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.web;</span><br><span class="line"></span><br><span class="line">import com.itheima.service.UserService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        UserService us &#x3D; (UserService) app.getBean(&quot;userService&quot;);</span><br><span class="line">        us.saveResult();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="Component"><a href="#Component" class="headerlink" title="@Component"></a>@Component</h4><div class="note primary">
            <p>使用在类上，用于实例化bean</p>
          </div>
<ul>
<li><p>在上面不含注解的代码编写的第四步，添加@Component注解</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userDao&quot; class&#x3D;&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">@Component(&quot;userDao&quot;)</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;save running....2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>步骤5的配置可以删掉</p>
</li>
</ul>
<h4 id="Service"><a href="#Service" class="headerlink" title="@Service"></a>@Service</h4><div class="note primary">
            <p>使用在Service层类上，用于实例化bean</p>
          </div>
<ul>
<li>在上面不含注解的代码编写的第7步，添加@Service注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import com.itheima.service.UserService;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userService&quot; class&#x3D;&quot;com.itheima.service.impl.UserServiceImpl&quot;&gt;</span><br><span class="line">@Service(&quot;userService&quot;)</span><br><span class="line">public class UserServiceImpl implements UserService &#123;</span><br><span class="line">    private UserDao ud;</span><br><span class="line"></span><br><span class="line">    public void setUd(UserDao ud) &#123;</span><br><span class="line">        this.ud &#x3D; ud;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void saveResult() &#123;</span><br><span class="line">        ud.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Repository"><a href="#Repository" class="headerlink" title="@Repository"></a>@Repository</h4><div class="note primary">
            <p>使用在dao层类上，用于实例化bean</p>
          </div>
<ul>
<li><p>在上面不含注解的代码编写的第四步，添加@Repository注解</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userDao&quot; class&#x3D;&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">@Repository(&quot;userDao&quot;)</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;save running....2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>步骤5的配置可以删掉</p>
</li>
</ul>
<h4 id="Autowired和-Qualifier"><a href="#Autowired和-Qualifier" class="headerlink" title="@Autowired和@Qualifier"></a>@Autowired和@Qualifier</h4><div class="note primary">
            <p>@Autowired：用于根据类型依赖注入<br>@Qualifier：结合@Autowired一起使用，用于根据名称依赖注入</p>
          </div>
<ul>
<li>在上面不含注解的代码编写的第7步，添加@Autowired、@Qualifier注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import com.itheima.service.UserService;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userService&quot; class&#x3D;&quot;com.itheima.service.impl.UserServiceImpl&quot;&gt;</span><br><span class="line">@Service(&quot;userService&quot;)</span><br><span class="line">public class UserServiceImpl implements UserService &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    @Qualifier(&quot;userDao&quot;)</span><br><span class="line">    private UserDao ud;</span><br><span class="line"></span><br><span class="line">    public void setUd(UserDao ud) &#123;</span><br><span class="line">        this.ud &#x3D; ud;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void saveResult() &#123;</span><br><span class="line">        ud.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h4><div class="note primary">
            <p>相当于@Autowired+@Qualifier，按照名称进行注入</p>
          </div>
<ul>
<li>在上面不含注解的代码编写的第7步，添加@Autowired、@Qualifier注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import com.itheima.service.UserService;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userService&quot; class&#x3D;&quot;com.itheima.service.impl.UserServiceImpl&quot;&gt;</span><br><span class="line">@Service(&quot;userService&quot;)</span><br><span class="line">public class UserServiceImpl implements UserService &#123;</span><br><span class="line">    @Resource(name &#x3D; &quot;userDao&quot;)</span><br><span class="line">    private UserDao ud;</span><br><span class="line"></span><br><span class="line">    public void setUd(UserDao ud) &#123;</span><br><span class="line">        this.ud &#x3D; ud;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void saveResult() &#123;</span><br><span class="line">        ud.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h4><div class="note primary">
            <p>注入普通属性</p>
          </div>
<ul>
<li><p>在上面不含注解的代码编写的第四步，添加name和age两个成员变量，使用@Value注解</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.UserDao;</span><br><span class="line">import org.springframework.beans.factory.annotation.Value;</span><br><span class="line">import org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&lt;bean id&#x3D;&quot;userDao&quot; class&#x3D;&quot;com.itheima.dao.impl.UserDaoImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">@Repository(&quot;userDao&quot;)</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">    @Value(&quot;历史&quot;)</span><br><span class="line">    private String name;</span><br><span class="line">    @Value(&quot;18&quot;)</span><br><span class="line">    private String age;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;UserDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;name&#x3D;&#39;&quot; + name + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, age&#x3D;&#39;&quot; + age + &#39;\&#39;&#39; +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setAge(String age) &#123;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(this.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>步骤5的配置可以删掉</p>
</li>
<li><p>测试代码2：结合druid使用@Value变量</p>
<ol>
<li>新建itheima_spring_di3的module,并配置webapp文件夹</li>
<li>在pom.xml添加druid、junit、spring-context、mysql包<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-context&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.3.7&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.12&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.1.46&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;druid&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.1.10&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>在resources下新建jdbc.properties<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jdbc.driver&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test</span><br><span class="line">jdbc.username&#x3D;root</span><br><span class="line">jdbc.password&#x3D;root</span><br></pre></td></tr></table></figure></li>
<li>在resources下新建applicationContext.xml，并引入jdbc.properties<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;</span><br><span class="line">      http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">      http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd</span><br><span class="line">&quot;&gt;</span><br><span class="line">    &lt;context:component-scan base-package&#x3D;&quot;com.itheima&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br><span class="line">    &lt;context:property-placeholder location&#x3D;&quot;jdbc.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;druidDataSource&quot; class&#x3D;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure></li>
<li>在java下新建com.itheima.dao.StudentDao<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line">public interface StudentDao &#123;</span><br><span class="line">    public void getPoint();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在dao下新建impl.StudentDaoImpl的实现类，使用@Repository、@Value注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import org.springframework.beans.factory.annotation.Value;</span><br><span class="line">import org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line">@Repository(&quot;student&quot;)</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    @Value(&quot;张三&quot;) &#x2F;&#x2F; 注入普通数据</span><br><span class="line">    private String name;</span><br><span class="line">    @Value(&quot;20&quot;)</span><br><span class="line">    private String age;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.driver&#125;&quot;) &#x2F;&#x2F; 注入jdbc.properties的值</span><br><span class="line">    private String driver;</span><br><span class="line">    public void setDriver(String driver) &#123;</span><br><span class="line">        this.driver &#x3D; driver;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setAge(String age) &#123;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;StudentDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;name&#x3D;&#39;&quot; + name + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, age&#x3D;&#39;&quot; + age + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, driver&#x3D;&#39;&quot; + driver + &#39;\&#39;&#39; +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void getPoint() &#123;</span><br><span class="line">        String res &#x3D; this.toString();</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在java下新建com.itheima.service.StudentService的业务层<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service;</span><br><span class="line">public interface StudentService &#123;</span><br><span class="line">    public void searchInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在service下新建StudentServiceImpl的实现类，使用@Service和@Resource注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line">@Service(&quot;studentService&quot;)</span><br><span class="line">public class StudentServiceImpl implements StudentService &#123;</span><br><span class="line">    @Resource(name &#x3D; &quot;student&quot;)</span><br><span class="line">    private StudentDao sd;</span><br><span class="line">    public void setSd(StudentDao sd) &#123;</span><br><span class="line">        this.sd &#x3D; sd;</span><br><span class="line">    &#125;</span><br><span class="line">    public void searchInfo() &#123;</span><br><span class="line">        sd.getPoint();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>编写测试方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">    @org.junit.Test</span><br><span class="line">    public void test1() &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        StudentService ss &#x3D; (StudentService) app.getBean(&quot;studentService&quot;);</span><br><span class="line">        ss.searchInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h2 id="Spring新注解"><a href="#Spring新注解" class="headerlink" title="Spring新注解"></a>Spring新注解</h2><ul>
<li>使用上面的注解还不能全部替代xml配置文件，还需要使用注解替代的配置如下：<ul>
<li>非自定义的Bean的配置：<code>&lt;bean&gt;</code></li>
<li>加载properties文件的配置：<code>&lt;context:property-placeholder&gt;</code></li>
<li>组件扫描的配置：<code>&lt;context:component-scan&gt;</code></li>
<li>引入其他文件：<code>&lt;import&gt;</code></li>
</ul>
</li>
</ul>
<h3 id="不含新注解的代码编写"><a href="#不含新注解的代码编写" class="headerlink" title="不含新注解的代码编写"></a>不含新注解的代码编写</h3><ol>
<li>新建itheima_spring_di4的module,并配置webapp文件夹</li>
<li>在pom.xml中引入spring-context、mysql-connector-java、druid包<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-context&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.3.7&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;druid&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.1.10&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.1.46&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li>在resources下新建jdbc.properties文件夹<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jdbc.driver&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;test</span><br><span class="line">jdbc.username&#x3D;root</span><br><span class="line">jdbc.password&#x3D;root</span><br></pre></td></tr></table></figure></li>
<li>在resources下新建applicationContext.xml，引入jdbc.properties<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;</span><br><span class="line">      http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">      http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd</span><br><span class="line">&quot;&gt;</span><br><span class="line">&lt;!--引入jdbc.properties--&gt;</span><br><span class="line">    &lt;context:property-placeholder location&#x3D;&quot;jdbc.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;druidDataSource&quot; class&#x3D;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure></li>
<li>在java下新建com.itheima.dao.StudentDao<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao;</span><br><span class="line">public interface StudentDao &#123;</span><br><span class="line">    public void searchPoint();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在dao下新建impl.StudentDaoImpl类，并使用@Repository、@Value注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.dao.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import org.springframework.beans.factory.annotation.Value;</span><br><span class="line">import org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line">@Repository(&quot;studentDao&quot;)</span><br><span class="line">public class StudentDaoImpl implements StudentDao &#123;</span><br><span class="line">    @Value(&quot;张三&quot;)</span><br><span class="line">    private String name;</span><br><span class="line">    @Value(&quot;18&quot;)</span><br><span class="line">    private String age;</span><br><span class="line">    @Value(&quot;99&quot;)</span><br><span class="line">    private int point;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span><br><span class="line">    private String driver;</span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name &#x3D; name;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setAge(String age) &#123;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setPoint(int point) &#123;</span><br><span class="line">        this.point &#x3D; point;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setDriver(String driver) &#123;</span><br><span class="line">        this.driver &#x3D; driver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;StudentDaoImpl&#123;&quot; +</span><br><span class="line">                &quot;name&#x3D;&#39;&quot; + name + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, age&#x3D;&#39;&quot; + age + &#39;\&#39;&#39; +</span><br><span class="line">                &quot;, point&#x3D;&quot; + point +</span><br><span class="line">                &quot;, driver&#x3D;&#39;&quot; + driver + &#39;\&#39;&#39; +</span><br><span class="line">                &#39;&#125;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    public void searchPoint() &#123;</span><br><span class="line">        System.out.println(this.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在java下新建com.itheima.service.StudentService的业务层<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.service.impl;</span><br><span class="line">import com.itheima.dao.StudentDao;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.stereotype.Service;</span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line">@Service(&quot;studentService&quot;)</span><br><span class="line">public class StudentServiceImpl implements StudentService &#123;</span><br><span class="line">    @Resource(name &#x3D; &quot;studentDao&quot;)</span><br><span class="line">    private StudentDao sd;</span><br><span class="line">    public void setSd(StudentDao sd) &#123;</span><br><span class="line">        this.sd &#x3D; sd;</span><br><span class="line">    &#125;</span><br><span class="line">    public void getPoint() &#123;</span><br><span class="line">        sd.searchPoint();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在applicationContext.xml中添加扫描注解<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--配置文件扫描，扫描com.itheima包--&gt;</span><br><span class="line">    &lt;context:component-scan base-package&#x3D;&quot;com.itheima&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br></pre></td></tr></table></figure></li>
<li>编写测试方法<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line"></span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        StudentService ss &#x3D; (StudentService) app.getBean(&quot;studentService&quot;);</span><br><span class="line">        ss.getPoint();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="使用新注解代码编写"><a href="#使用新注解代码编写" class="headerlink" title="使用新注解代码编写"></a>使用新注解代码编写</h3><ol>
<li><p>在前面不含新注解的代码第5步前，在java下新建com.itheima.Config.SpringConfig配置类，并写入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.config;</span><br><span class="line"></span><br><span class="line">import com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line">import org.springframework.beans.factory.annotation.Value;</span><br><span class="line">import org.springframework.context.annotation.Bean;</span><br><span class="line">import org.springframework.context.annotation.ComponentScan;</span><br><span class="line">import org.springframework.context.annotation.Configuration;</span><br><span class="line">import org.springframework.context.annotation.PropertySource;</span><br><span class="line"></span><br><span class="line">import javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 标志该类是Spring的核心配置类</span><br><span class="line">@Configuration</span><br><span class="line">&#x2F;&#x2F;    &lt;context:component-scan base-package&#x3D;&quot;com.itheima&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br><span class="line">@ComponentScan(&quot;com.itheima&quot;)</span><br><span class="line">&#x2F;&#x2F;    &lt;context:property-placeholder location&#x3D;&quot;jdbc.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;</span><br><span class="line">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span><br><span class="line">public class SpringConfig &#123;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span><br><span class="line">    private String driver;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.url&#125;&quot;)</span><br><span class="line">    private String url;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.username&#125;&quot;)</span><br><span class="line">    private String username;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.password&#125;&quot;)</span><br><span class="line">    private String password;</span><br><span class="line"></span><br><span class="line">    @Bean(&quot;druidDataSource&quot;) &#x2F;&#x2F; Spring会将当前方法的返回值以指定名称存储到Spring容器中</span><br><span class="line">    &#x2F;*</span><br><span class="line">    该注解代替：</span><br><span class="line">    &lt;bean id&#x3D;&quot;druidDataSource&quot; class&#x3D;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">    *&#x2F;</span><br><span class="line">    public DataSource getDataSource() &#123;</span><br><span class="line">        DruidDataSource ds &#x3D; new DruidDataSource();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(username);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        return ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>applicationContext.xml就完全没有用了</p>
</li>
<li><p>编写测试方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line">import com.itheima.config.SpringConfig;</span><br><span class="line">import com.itheima.service.StudentService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext app &#x3D; new AnnotationConfigApplicationContext(SpringConfig.class);</span><br><span class="line">        StudentService ss &#x3D; (StudentService) app.getBean(&quot;studentService&quot;);</span><br><span class="line">        ss.getPoint();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h4><div class="note primary">
            <p>用于指定当前类是一个 Spring 配置类，当创建容器时会从该类上加载注解</p>
          </div>
<ul>
<li>在上面添加新注解的代码中，@Configuration注解，相当于告诉spring这是核心配置类</li>
</ul>
<h4 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h4><div class="note primary">
            <p>用于指定 Spring 在初始化容器时要扫描的包。作用和在 Spring 的 xml 配置文件中的<code>&lt;context:component-scan base-package=&quot;com.itheima&quot;/&gt;</code>一样</p>
          </div>
<ul>
<li>在上面添加新注解的代码中，@ComponentScan注解，替换了applicationContext.xml中的<code>&lt;context:component-scan base-package=&quot;com.itheima&quot;/&gt;</code></li>
</ul>
<h4 id="PropertySource"><a href="#PropertySource" class="headerlink" title="@PropertySource"></a>@PropertySource</h4><div class="note primary">
            <p>用于加载.properties 文件中的配置</p>
          </div>
<ul>
<li>在上面添加新注解的代码中，@PropertySource注解，替换了applicationContext.xml中的<code>&lt;context:property-placeholder location=&quot;jdbc.properties&quot;&gt;&lt;/context:property-placeholder&gt;</code></li>
</ul>
<h4 id="Bean"><a href="#Bean" class="headerlink" title="@Bean"></a>@Bean</h4><div class="note primary">
            <p>使用在方法上，标注将该方法的返回值存储到 Spring 容器中</p>
          </div>
<ul>
<li>在上面添加新注解的代码中，@Bean注解，加上一个随便定义的getDataSource函数，替换了applicationContext.xml中的<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;druidDataSource&quot; class&#x3D;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="Import"><a href="#Import" class="headerlink" title="@Import"></a>@Import</h4><div class="note primary">
            <p>用于导入其他配置类</p>
          </div>
<ul>
<li><p>在上面添加新注解的代码中，SpringConfig中的配置很多的时候，可以进行拆分，在java下新建com.itheima.Config.DataSourceConfig的配置类，把所有跟操作数据库相关的配置放到里面</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.config;</span><br><span class="line">import com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line">import org.springframework.beans.factory.annotation.Value;</span><br><span class="line">import org.springframework.context.annotation.Bean;</span><br><span class="line">import org.springframework.context.annotation.PropertySource;</span><br><span class="line">import javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;    &lt;context:property-placeholder location&#x3D;&quot;jdbc.properties&quot;&gt;&lt;&#x2F;context:property-placeholder&gt;</span><br><span class="line">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span><br><span class="line"></span><br><span class="line">public class DataSourceConfig &#123;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span><br><span class="line">    private String driver;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.url&#125;&quot;)</span><br><span class="line">    private String url;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.username&#125;&quot;)</span><br><span class="line">    private String username;</span><br><span class="line">    @Value(&quot;$&#123;jdbc.password&#125;&quot;)</span><br><span class="line">    private String password;</span><br><span class="line"></span><br><span class="line">    @Bean(&quot;druidDataSource&quot;) &#x2F;&#x2F; Spring会将当前方法的返回值以指定名称存储到Spring容器中</span><br><span class="line">    public DataSource getDataSource() &#123;</span><br><span class="line">        DruidDataSource ds &#x3D; new DruidDataSource();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(username);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        return ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在SpringConfig配置类中使用@Import引入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.itheima.config;</span><br><span class="line">import org.springframework.context.annotation.*;</span><br><span class="line"></span><br><span class="line">@Configuration</span><br><span class="line">@ComponentScan(&quot;com.itheima&quot;)</span><br><span class="line">@Import(&#123; DataSourceConfig.class &#125;)</span><br><span class="line">public class SpringConfig &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">杜江</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2021/06/09/spring/spring-ioc/">http://yoursite.com/2021/06/09/spring/spring-ioc/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com" target="_blank">杜江的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/java/">java</a><a class="post-meta__tags" href="/tags/spring/">spring</a><a class="post-meta__tags" href="/tags/ioc/">ioc</a></div><div class="post_share"><div class="social-share" data-image="/images/hexo/hexo_logo.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/06/18/spring/spring2-aop/"><img class="prev-cover" data-src="/images/spring/logo.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">spring2-aop</div></div></a></div><div class="next-post pull-right"><a href="/2021/06/08/lombok/lombok/"><img class="next-cover" data-src="/images/springboot/lombok.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">lombok</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2021/06/18/spring/spring2-aop/" title="spring2-aop"><img class="relatedPosts_cover" data-src="/images/spring/logo.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-18</div><div class="relatedPosts_title">spring2-aop</div></div></a></div><div class="relatedPosts_item"><a href="/2021/06/18/spring/spring3-jdbcTemplate/" title="spring3-jdbcTemplate"><img class="relatedPosts_cover" data-src="/images/spring/logo.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-18</div><div class="relatedPosts_title">spring3-jdbcTemplate</div></div></a></div><div class="relatedPosts_item"><a href="/2021/06/21/spring/spring4-affair/" title="spring4-事务"><img class="relatedPosts_cover" data-src="/images/spring/logo.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-21</div><div class="relatedPosts_title">spring4-事务</div></div></a></div><div class="relatedPosts_item"><a href="/2021/06/22/springmvc/springmvc/" title="springmvc"><img class="relatedPosts_cover" data-src="/images/spring/logo.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-22</div><div class="relatedPosts_title">springmvc</div></div></a></div><div class="relatedPosts_item"><a href="/2021/06/30/springmvc/springmvc2/" title="springmvc2"><img class="relatedPosts_cover" data-src="/images/spring/logo.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-30</div><div class="relatedPosts_title">springmvc2</div></div></a></div><div class="relatedPosts_item"><a href="/2021/06/08/lombok/lombok/" title="lombok"><img class="relatedPosts_cover" data-src="/images/springboot/lombok.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-08</div><div class="relatedPosts_title">lombok</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC81MDYyNy8yNzExMA=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 杜江</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://dj49846917.github.io/" target="_blank" rel="noopener">blog</a>!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" title="缩小字体"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fas fa-comments"></i></a><button class="close" id="mobile-toc-button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/js/third-party/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/third-party/click_heart.js"></script></body></html>